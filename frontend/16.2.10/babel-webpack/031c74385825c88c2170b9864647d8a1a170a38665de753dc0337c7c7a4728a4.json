{"ast":null,"code":"import { CatalogueService } from '../catalogue/catalogue.service';\nimport { AddPanier } from '../shared/actions/panier-action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../catalogue/catalogue.service\";\nimport * as i2 from \"@ngxs/store\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../catalogue/filter.pipe\";\nfunction ProduitsComponent_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", p_r3.name, \" \", i0.ɵɵpipeBind2(2, 2, p_r3.price, \"EUR\"), \" \");\n  }\n}\nfunction ProduitsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, ProduitsComponent_div_10_div_1_Template, 3, 5, \"div\", 6);\n    i0.ɵɵpipe(2, \"filter\");\n    i0.ɵɵelementStart(3, \"div\")(4, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProduitsComponent_div_10_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.addPanier(ctx_r4.p));\n    });\n    i0.ɵɵtext(5, \" Ajouter au panier \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const produits_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, produits_r1, ctx_r0.recherche));\n  }\n}\nexport class ProduitsComponent {\n  constructor(catalogueService, store) {\n    this.catalogueService = catalogueService;\n    this.store = store;\n    this.recherche = '';\n    this.produits$ = this.catalogueService.getProduits();\n  }\n  ngOnInit() {}\n  addPanier(p) {\n    function showMessage() {\n      const messageContainer = document.getElementById(\"MessageAdd\");\n      messageContainer.innerText = `'${p.name}' a été ajouté au panier.`;\n      setTimeout(() => {\n        messageContainer.innerText = \"\";\n      }, 3000);\n    }\n    this.store.dispatch(new AddPanier(p));\n    showMessage();\n  }\n  static #_ = this.ɵfac = function ProduitsComponent_Factory(t) {\n    return new (t || ProduitsComponent)(i0.ɵɵdirectiveInject(i1.CatalogueService), i0.ɵɵdirectiveInject(i2.Store));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProduitsComponent,\n    selectors: [[\"app-produits\"]],\n    features: [i0.ɵɵProvidersFeature([CatalogueService])],\n    decls: 12,\n    vars: 4,\n    consts: [[\"for\", \"recherche\"], [\"name\", \"recherche\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"MessageAdd\"], [\"id\", \"nbProduct\"], [\"id\", \"container\", 4, \"ngIf\"], [\"id\", \"container\"], [\"id\", \"catalogue\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"id\", \"catalogue\"]],\n    template: function ProduitsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\");\n        i0.ɵɵelementStart(1, \"label\", 0);\n        i0.ɵɵtext(2, \"Recherche :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function ProduitsComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.recherche = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"br\")(5, \"br\")(6, \"hr\")(7, \"br\")(8, \"div\", 2)(9, \"div\", 3);\n        i0.ɵɵtemplate(10, ProduitsComponent_div_10_Template, 6, 4, \"div\", 4);\n        i0.ɵɵpipe(11, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.recherche);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 2, ctx.produits$));\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i3.AsyncPipe, i3.CurrencyPipe, i5.FilterPipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n  font-family: 'Arial', sans-serif;\\n  background-color: #f0f0f0; \\n\\n  color: #333; \\n\\n  margin: 0;\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  font-weight: bold;\\n  margin-bottom: 10px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n}\\n\\n#container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n}\\n\\n#catalogue[_ngcontent-%COMP%] {\\n  background-color: #fff; \\n\\n  border: 1px solid #ddd; \\n\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  margin: 10px;\\n  padding: 20px;\\n  text-align: center;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  background-color: #a29965; \\n\\n  color: #fff; \\n\\n  padding: 8px 16px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #4ecf54; \\n\\n}\\n\\ndiv[_ngcontent-%COMP%]{\\n  font-family: 'San Francisco', 'Arial', sans-serif;\\n  align-items: center;\\n}\\n\\n#MessageAdd[_ngcontent-%COMP%]{\\n  color: #4ecf54;\\n  font-size: 20px;\\n  font-weight: bold;\\n  align-items: center;\\n}\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVpdHMvcHJvZHVpdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdDQUFnQztFQUNoQyx5QkFBeUIsRUFBRSwyQkFBMkI7RUFDdEQsV0FBVyxFQUFFLGdDQUFnQztFQUM3QyxTQUFTO0VBQ1QsYUFBYTtFQUNiLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0Usc0JBQXNCLEVBQUUscURBQXFEO0VBQzdFLHNCQUFzQixFQUFFLG1CQUFtQjtFQUMzQyxrQkFBa0I7RUFDbEIsd0NBQXdDO0VBQ3hDLFlBQVk7RUFDWixhQUFhO0VBQ2Isa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsNEJBQTRCO0VBQ3ZELFdBQVcsRUFBRSxvQ0FBb0M7RUFDakQsaUJBQWlCO0VBQ2pCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHNDQUFzQztBQUN4Qzs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLHFDQUFxQztBQUNsRTs7QUFFQTtFQUNFLGlEQUFpRDtFQUNqRCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixtQkFBbUI7QUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7IC8qIENvdWxldXIgZGUgZm9uZCBsw4PCqWfDg8KocmUgKi9cbiAgY29sb3I6ICMzMzM7IC8qIENvdWxldXIgZGUgdGV4dGUgcHJpbmNpcGFsZSAqL1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbnAge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5sYWJlbCB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuaW5wdXQge1xuICBwYWRkaW5nOiA4cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cblxuI2NvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbiNjYXRhbG9ndWUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyAvKiBDb3VsZXVyIGRlIGZvbmQgcG91ciBjaGFxdWUgw4PCqWzDg8KpbWVudCBkdSBjYXRhbG9ndWUgKi9cbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgLyogQm9yZHVyZSBsw4PCqWfDg8KocmUgKi9cbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBtYXJnaW46IDEwcHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2EyOTk2NTsgLyogQ291bGV1ciBkZSBib3V0b24gdmVydGUgKi9cbiAgY29sb3I6ICNmZmY7IC8qIENvdWxldXIgZGUgdGV4dGUgcG91ciBsZSBib3V0b24gKi9cbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xufVxuXG5idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGVjZjU0OyAvKiBDb3VsZXVyIGRlIHN1cnZvbCBwb3VyIGxlIGJvdXRvbiAqL1xufVxuXG5kaXZ7XG4gIGZvbnQtZmFtaWx5OiAnU2FuIEZyYW5jaXNjbycsICdBcmlhbCcsIHNhbnMtc2VyaWY7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbiNNZXNzYWdlQWRke1xuICBjb2xvcjogIzRlY2Y1NDtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["CatalogueService","AddPanier","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","p_r3","name","ɵɵpipeBind2","price","ɵɵtemplate","ProduitsComponent_div_10_div_1_Template","ɵɵlistener","ProduitsComponent_div_10_Template_button_click_4_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","addPanier","p","ɵɵproperty","produits_r1","ctx_r0","recherche","ProduitsComponent","constructor","catalogueService","store","produits$","getProduits","ngOnInit","showMessage","messageContainer","document","getElementById","innerText","setTimeout","dispatch","_","ɵɵdirectiveInject","i1","i2","Store","_2","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ProduitsComponent_Template","rf","ctx","ɵɵelement","ProduitsComponent_Template_input_ngModelChange_3_listener","$event","ProduitsComponent_div_10_Template","ɵɵpipeBind1"],"sources":["/Users/sebastien/Projects/SI_WEB/tp05_pichon_sebastien/src/app/produits/produits.component.ts","/Users/sebastien/Projects/SI_WEB/tp05_pichon_sebastien/src/app/produits/produits.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Store } from '@ngxs/store';\nimport { CatalogueService } from '../catalogue/catalogue.service';\nimport { Produit } from '../shared/models/produit';\nimport { AddPanier } from '../shared/actions/panier-action';\nimport { provideProtractorTestingSupport } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-produits',\n  templateUrl: './produits.component.html',\n  styleUrls: ['./produits.component.css'],\n  providers: [CatalogueService],\n})\nexport class ProduitsComponent implements OnInit {\n  recherche: string = '';\n  produits$: Observable<Produit[]>;\n\n  constructor(private catalogueService: CatalogueService, private store: Store) {\n    this.produits$ = this.catalogueService.getProduits();\n  }\n\n  ngOnInit() {}\n\n  addPanier(p:Produit) {\n    function showMessage() {\n\n      const messageContainer = document.getElementById(\"MessageAdd\") as HTMLDivElement;\n      messageContainer.innerText = `'${p.name}' a été ajouté au panier.`;\n      setTimeout(() => {\n          messageContainer.innerText = \"\";\n      }, 3000);}\n    \n\n    this.store.dispatch(new AddPanier(p));\n\n    showMessage();\n\n  }  \n}\n  \n","<br />\n<label for=\"recherche\">Recherche :</label\n><input [(ngModel)]=\"recherche\" name=\"recherche\" />\n\n<br />\n<br />\n\n<hr />\n<br />\n\n<div id=\"MessageAdd\"></div>\n<div id=\"nbProduct\"></div>\n\n<div id=\"container\" *ngIf=\"produits$ | async as produits\">\n  <div id=\"catalogue\" *ngFor=\"let p of produits | filter: recherche\">\n    {{ p.name }}\n    {{ p.price | currency: 'EUR'}}\n    \n  </div>\n  <div><button (click)=\"addPanier(p)\"> Ajouter au panier </button></div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}